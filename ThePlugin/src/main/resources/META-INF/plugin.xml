<!--jgorycki: putting DOCTYPE here does evil things to the parser - it tries to parse the -->
		<!--downloaded DTD file which happens to be corrupt (JetBrain sucks?)-->
<!--<!DOCTYPE idea-plugin PUBLIC "Plugin/DTD" "http://plugins.intellij.net/plugin.dtd">-->
<idea-plugin url="http://www.atlassian.com">

	<name>Atlassian</name>

	<description>
		<![CDATA[
		The plugin providing IDEA IDE integration for the following Atlassian products:
		<ul>
			<li>Bamboo (2.0 and above)</li>
			<li>Crucible</li>
			<li>Fisheye</li>
			<li>Jira</li>
			<li>Confluence</li>
		</ul>
		]]>
	</description>

	<version>${project.version}, SVN:${buildNumber}</version>

	<!--no email link for now - we don't have the plugin email alias yet-->
	<!--<vendor url="http://www.atlassian.com" email="support@atlassian.com">Atlassian</vendor>-->
	<vendor url="http://www.atlassian.com">Atlassian</vendor>

	<!--we will only support IDEAs newer than 7.0 for now - the one we are testing on -->
	<!--jgorycki: I hope 7126 is the first build of 7.0. This is at least what the checkstyle plugin uses-->
	<idea-version since-build="7126"/>

	<change-notes>
		<![CDATA[
		<ul>
			<li>0.1.0: A much more stable version with a nicely working bamboo build status support,
			but crappy visuals</li>
			<li>0.0.1: Initial version with minimal functionality and many annoyng bugs</li>
		</ul>
		]]>
	</change-notes>

	<application-components>
		<component>
			<implementation-class>com.atlassian.theplugin.idea.ThePluginApplicationComponent</implementation-class>
		</component>
	</application-components>
	<project-components>
		<component>
			<implementation-class>com.atlassian.theplugin.idea.ThePluginProjectComponent</implementation-class>
		</component>
	</project-components>

    <actions>
        <action id="ThePlugin.AddServerAction" class="com.atlassian.theplugin.idea.config.serverconfig.action.AddServerAction" text="Add (Insert)" description="Add a new server" icon="/general/add.png"/>
        <action id="ThePlugin.RemoveServerAction" class="com.atlassian.theplugin.idea.config.serverconfig.action.RemoveServerAction" text="Remove (Delete)" description="Remove an existing server" icon="/general/remove.png"/>
        <action id="ThePlugin.CopyServerAction" class="com.atlassian.theplugin.idea.config.serverconfig.action.CopyServerAction" text="Copy" description="Copy the selected server" icon="/general/copy.png"/>

        <action id="ThePlugin.AddBambooServerAction" class="com.atlassian.theplugin.idea.config.serverconfig.action.AddBambooServerAction" text="Bamboo Server" description="Add a new Bamboo server" icon="/icons/blue-16.png"/>
        <action id="ThePlugin.AddCrucibleServerAction" class="com.atlassian.theplugin.idea.config.serverconfig.action.AddCrucibleServerAction" text="Crucible Server" description="Add a new Crucible server" icon="/icons/crucible-16.png"/>

        <action id="ThePlugin.ShowSettings" class="com.atlassian.theplugin.idea.action.ShowSettingsAction" text="Configure" description="Show plugin configuration" icon="/general/ideOptions.png"/>
        <!--<action id="ThePlugin.RefreshAll" class="com.atlassian.theplugin.idea.action.RefreshAction" text="Refresh All" description="Refresh all data now" icon="/actions/sync.png"/>-->

        <action id="ThePlugin.ReviewScope" class="com.atlassian.theplugin.idea.action.ReviewScope" text="Review scope" description="Select review scope"/>
		<action id="ThePlugin.ReviewScopeAll" class="com.atlassian.theplugin.idea.action.ReviewScopeAll" text="All Reviews" description="Show all reviews"/>
		<action id="ThePlugin.ReviewScopeMy" class="com.atlassian.theplugin.idea.action.ReviewScopeMy" text="My Reviews" description="Show my reviews"/>

		<group id="ThePlugin.ReviewScopeCombo">
            <reference id="ThePlugin.ReviewScopeAll"/>
            <reference id="ThePlugin.ReviewScopeMy"/>
		</group>
				
		<group id="ThePlugin.ServerConfigToolBar" popup="false" text="">
            <reference id="ThePlugin.AddServerAction"/>
            <reference id="ThePlugin.RemoveServerAction"/>
<!--            <reference id="ThePlugin.CopyServerAction"/> -->
        </group>

		<group id="ThePlugin.ServerTypePopup">
            <reference id="ThePlugin.AddBambooServerAction"/>
            <reference id="ThePlugin.AddCrucibleServerAction"/>
		</group>

		<group id="ThePlugin.BambooToolWindowToolBar" popup="false" text="">
            <reference id="ThePlugin.ShowSettings" />
			<!--<reference id="ThePlugin.RefreshAll"/>-->
        </group>

        <action id="ThePlugin.JIRAServerScope" class="com.atlassian.theplugin.idea.action.JIRAServerScopeAction" text="Select JIRA server" description="Select JIRA server"/>
        <action id="ThePlugin.JIRARefreshIssuesAction" class="com.atlassian.theplugin.idea.action.JIRARefreshIssuesAction" text="Refresh assigned JIRA issues"  icon="/actions/sync.png"/>

        <action id="ThePlugin.AddJIRAServerAction" class="com.atlassian.theplugin.idea.config.serverconfig.action.AddJIRAServerAction" text="JIRA Server" description="Add a new JIRA server" icon="/icons/jira-blue-16.png">
            <add-to-group group-id="ThePlugin.ServerTypePopup" anchor="last"/>
        </action>
        
        <group id="ThePlugin.JIRAToolWindowToolBar" popup="false" text="">
            <reference id="ThePlugin.JIRAServerScope"/>
            <reference id="ThePlugin.JIRARefreshIssuesAction" />
            <separator />
            <reference id="ThePlugin.ShowSettings" />
        </group>

		<group id="ThePlugin.CrucibleToolWindowToolBar" popup="false" text="">
            <reference id="ThePlugin.ShowSettings" />
			<!--<separator />-->
			<!--<reference id="ThePlugin.ReviewScope"/>-->
			<!--<reference id="ThePlugin.RefreshAll"/>-->
        </group>
    </actions>
</idea-plugin>